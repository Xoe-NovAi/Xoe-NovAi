# ============================================================================
# Xoe-NovAi Phase 1 v0.1.2 - FastAPI RAG Service Dependencies
# ============================================================================
# Purpose: Production dependencies for RAG API with LLM/FAISS/Redis
# Guide Reference: Section 4 (Core Dependencies)
# Last Updated: 2025-10-13
# Python: 3.12.7
# 
# Installation:
#   pip install -r requirements-api.txt
# 
# Validation:
#   python3 verify_imports.py
#   pip list | grep -E "redis|llama|langchain|faiss"
# 
# Notes:
#   - llama-cpp-python requires CMAKE_ARGS for Ryzen optimization
#   - All versions from guide dependency matrix (Section 4)
#   - Zero-telemetry enforced via environment variables
# ============================================================================

# ============================================================================
# CORE LLM & EMBEDDINGS
# ============================================================================
# llama-cpp-python compiled with Ryzen optimization in Dockerfile
# CMAKE_ARGS="-DLLAMA_BLAS=ON -DLLAMA_BLAS_VENDOR=OpenBLAS -DLLAMA_AVX2=ON -DLLAMA_FMA=ON -DLLAMA_F16C=ON"
llama-cpp-python==0.3.16
typing-extensions>=4.5.0

# ============================================================================
# RAG & VECTORSTORE
# ============================================================================
langchain-core==0.3.79
langchain-community==0.3.31
faiss-cpu==1.12.0

# ============================================================================
# API FRAMEWORK
# ============================================================================
fastapi==0.120.4
uvicorn[standard]==0.38.0
pydantic>=2.7.4,<3.0.0
pydantic-settings==2.11.0

# ============================================================================
# CACHING & STREAMING
# ============================================================================
redis==6.4.0
httpx==0.27.2

# ============================================================================
# DATA PROCESSING
# ============================================================================
orjson==3.11.3
toml==0.10.2
tqdm==4.67.1
requests==2.32.5

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
prometheus-client==0.23.1
psutil==7.1.2
json-log-formatter==1.1.1

# ============================================================================
# UTILITIES
# ============================================================================
tenacity==9.1.2
slowapi==0.1.9

# ============================================================================
# TESTING (Optional for container, required for CI/CD)
# ============================================================================
pytest==8.4.2
pytest-cov==7.0.0
pytest-asyncio==0.25.2

# ============================================================================
# SECURITY SCANNING
# ============================================================================
safety==3.2.0

# Compatibility for safety & dataclasses-json
marshmallow==3.18.0

# ============================================================================
# DOCUMENT PROCESSING
# ============================================================================
pypdf==5.1.0
python-docx==1.1.2
beautifulsoup4==4.12.3
lxml==5.3.0

# ============================================================================
# TYPE CHECKING (Development)
# ============================================================================
mypy==1.14.0
redis==6.4.0
types-redis==4.6.0.20241004
types-toml==0.10.8.20240310