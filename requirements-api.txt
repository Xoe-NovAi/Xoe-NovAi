# ============================================================================
# Xoe-NovAi Phase 1 v0.1.4-stable - FastAPI RAG Service Dependencies (PRODUCTION)
# ============================================================================
# Purpose: Production dependencies for RAG API with LLM/FAISS/Redis
# Status: Production Ready (FAISS Release - v0.1.4-stable)
# Guide Reference: Section 4 (Core Dependencies), Section 8 (Optimization)
# Last Updated: 2026-01-03 (Production Optimization)
# Python: 3.12.7
# 
# Installation:
#   pip install -r requirements-api.txt
# 
# Validation:
#   python3 -c "import llama_cpp; import langchain; import faiss; print('✓ All core libraries ready')"
#   pip list | grep -E "redis|llama|langchain|faiss"
# 
# Production Notes:
#   ✓ llama-cpp-python compiled with Ryzen optimization in Dockerfile
#   ✓ All versions from guide dependency matrix (Section 4)
#   ✓ Zero-telemetry enforced via environment variables
#   ✓ Dev dependencies removed (pytest, mypy, safety removed for production)
# ============================================================================

# ============================================================================
# CORE LLM & EMBEDDINGS
# ============================================================================
# llama-cpp-python compiled with Ryzen optimization in Dockerfile
# CMAKE_ARGS="-DLLAMA_BLAS=ON -DLLAMA_BLAS_VENDOR=OpenBLAS -DLLAMA_AVX2=ON -DLLAMA_FMA=ON -DLLAMA_F16C=ON"

# llama-cpp-python==0.3.16
typing-extensions>=4.5.0

# ============================================================================
# LIBRARY API INTEGRATIONS & HTTP
# ============================================================================
# Required for library metadata enrichment during curation
requests>=2.31.0
urllib3>=2.1.0

# ============================================================================
# RAG & VECTORSTORE
# ============================================================================
langchain-core==0.3.79
langchain-community==0.3.31
faiss-cpu==1.12.0

# ============================================================================
# API FRAMEWORK
# ============================================================================
fastapi>=0.116.1,<0.117  # Compatible with chainlit 2.8.3
uvicorn[standard]>=0.38.0
pydantic>=2.7.4,<3.0.0
pydantic-settings==2.11.0

# ============================================================================
# CACHING & STREAMING
# ============================================================================
redis==6.4.0
httpx==0.27.2

# ============================================================================
# DATA PROCESSING
# ============================================================================
orjson==3.11.3
toml==0.10.2
tqdm==4.67.1
requests==2.32.5

# ============================================================================
# CONTENT INGESTION
# ============================================================================
feedparser==6.0.10         # RSS feed parsing
python-magic==0.4.27       # File type detection
beautifulsoup4==4.12.3     # HTML/XML parsing for web scraping

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
prometheus-client==0.23.1
psutil==7.1.2
json-log-formatter==1.1.1

# ============================================================================
# UTILITIES
# ============================================================================
tenacity==9.1.2
slowapi==0.1.9
pybreaker==0.7.0  # Circuit breaker (Pattern 5 - standardized per blueprint v0.1.4)

# ============================================================================
# TYPE CHECKING & TESTING (REMOVED FOR PRODUCTION)
# ============================================================================
# Removed: pytest, pytest-cov, pytest-asyncio, mypy, safety
# Reason: Dev/testing dependencies not needed in production image
# For CI/CD testing, use separate requirements-dev.txt or requirements-test.txt

# Keep types only for static analysis in development environments
# (not included in production image)
# types-redis==4.6.0.20241004
# types-toml==0.10.8.20240310
